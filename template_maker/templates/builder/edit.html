{% extends "builder/main.html" %}

{% block css %}
<!-- Include Font Awesome. -->
<link href="{{ url_for('static', filename='lib/froala/css/font-awesome.min.css') }}" rel="stylesheet" type="text/css" />

<!-- Include Editor style. -->
<link href="{{ url_for('static', filename='lib/froala/css/froala_editor.min.css') }}" rel="stylesheet" type="text/css" />
<link href="{{ url_for('static', filename='lib/froala/css/froala_style.min.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block subcontent %}

<div>
  <div class="row">
    <div class="col-sm-3">
      <h3>{{ template.title }}</h3>
      <hr>
      {% include 'builder/sections/section-sidebar.html' %}
    </div>
    <div class="col-sm-9">
      {% if section %}
        {% if section.section_type == 'text' %}
          {% include 'builder/sections/text-section.html' %}
        {% elif section.section_type == 'fixed_text' %}
          {% include 'builder/sections/text-section.html' %}
        {% endif %}
      {% else %}
        {% include 'builder/sections/new-section.html' %}
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}

{% block javascripts %}
  {% if section %}
    {% if section.section_type == 'text' or section.section_type == 'fixed_text' %}
      <script src="{{ url_for('static', filename='lib/froala/js/froala_editor.min.js') }}"></script>
      <!-- Include IE8 JS. -->
      <!--[if lt IE 9]>
        <script src="{{ url_for('static', filename='lib/froala/js/froala_editor_ie8.min.js') }}></script>
      <![endif]-->
      <script id="sectionText" type="section-text">
        {{ section.text | safe }}
      </script>
      <script type="text/javascript" src="{{ url_for('static', filename='js/froalaInit.js') }}"></script>
    {% endif %}
  {% endif %}
{% endblock %}